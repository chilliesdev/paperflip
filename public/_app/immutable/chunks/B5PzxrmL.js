import{aa as d,a9 as T}from"./BJ8RSJk3.js";const h=d(!1),U=d(!1);let n,e=null,o=null,l=!1,t=!1,w="",b,S,g=0,u=0;typeof window<"u"&&h.subscribe(s=>{if(e&&n)if(l&&!t){const i=g+u;k(w,b,S,i,!0)}else e.volume=s?0:1});function x(){typeof window<"u"&&"speechSynthesis"in window?n=window.speechSynthesis:console.warn("Web Speech API not supported in this browser.")}function k(s,i,r,c=0,m=!1){if(!n){console.warn("SpeechSynthesis not initialized.");return}m||(w=s,b=i,S=r,g=c,u=0),e&&n.cancel(),l=!0,t=!1;const v=c>0?s.substring(c):s;e=new SpeechSynthesisUtterance(v),e.volume=T(h)?0:1,e.lang="en-US",i?(o=i,e.onboundary=a=>{if(a.name==="word"&&(u=a.charIndex,o)){const f=a.charIndex+c,y=s.substring(f,f+a.charLength);o(y,f,a.charLength)}}):(e.onboundary=null,o=null);const p=e;e.onend=()=>{e===p&&(e=null,o=null,l=!1,t=!1,r&&r())},e.onerror=a=>{console.error("SpeechSynthesisUtterance error:",a),e===p&&(e=null,o=null,l=!1,t=!1,r&&r())},n.speak(e)}function I(){n&&(l||e)&&(n.cancel(),e=null,o=null,l=!1,t=!1,u=0)}function P(){n&&l&&!t&&(n.pause(),t=!0)}function j(){n&&t&&(n.resume(),t=!1)}function C(){return t}function z(){return new Promise(s=>{if(x(),typeof window>"u"||!("speechSynthesis"in window)){s();return}if(n.getVoices().length>0){s();return}const i=()=>{n.removeEventListener("voiceschanged",i),s()};n.addEventListener("voiceschanged",i),setTimeout(()=>{n.removeEventListener("voiceschanged",i),s()},2e3)})}const A=8,M=["https://hcidefilvllxloywohwf.supabase.co/storage/v1/object/public/paperflip/bg-video-1.mp4","https://hcidefilvllxloywohwf.supabase.co/storage/v1/object/public/paperflip/bg-video-2.mp4"],O=d({});export{O as a,A as b,x as c,U as d,I as e,C as f,h as i,P as p,j as r,k as s,M as v,z as w};
